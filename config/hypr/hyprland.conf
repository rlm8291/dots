### Robbies Hyprland Config ####

### MONITORS ###
monitor = eDP-1, 1920x1200@59.59Hx, 0x0, 1

### AUTOSTART ###
exec-once = uwsm app -- swaybg -i ~/Pictures/current -m fill 
exec-once = uwsm app -- hypridle
exec-once = uwsm app -- waybar
exec-once = uwsm app -- mako 
exec-once = source ~/.bashrc
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = wl-clip-persist --clipboard regular --all-mime-type-regex '^(?!x-kde-passwordManagerHint).+'

### ENVIRONMENT VARIABLES ###
env = XCURSOR_SIZE,14
env = HYPRCURSOR_SIZE,14
# Force all apps to use Wayland
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_STYLE_OVERRIDE,kvantum
env = SDL_VIDEODRIVER,wayland
env = MOZ_ENABLE_WAYLAND,1
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = OZONE_PLATFORM,wayland

# Nvidia ENV Variables
env = NVD_BACKEND,direct
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

xwayland {
  force_zero_scaling = true
}

### PERMISSIONS ###
# See https://wiki.hypr.land/Configuring/Permissions/
# Please note permission changes here require a Hyprland restart and are not applied on-the-fly
# for security reasons

# ecosystem {
#   enforce_permissions = 1
# }

# permission = /usr/(bin|local/bin)/grim, screencopy, allow
# permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow
# permission = /usr/(bin|local/bin)/hyprpm, plugin, allow

### LOOK AND FEEL ###
general {
  gaps_in = 0
  gaps_out = 0

  border_size = 3

  col.active_border = rgb(e6d9db) 
  col.inactive_border = rgba(595959aa)
  resize_on_border = false

  allow_tearing = false

  layout = master
}

# https://wiki.hypr.land/Configuring/Variables/#decoration
decoration {
  # Change transparency of focused and unfocused windows
  active_opacity = 1.0
  inactive_opacity = 1.0

  shadow {
    enabled = true
    range = 4
    render_power = 3
    color = rgba(1a1a1aee)
  }

  blur {
    enabled = true
    size = 3
    passes = 1

    vibrancy = 0.1696
  }
}

animations {
  enabled = false
}

# Ref https://wiki.hypr.land/Configuring/Workspace-Rules/
# Remove Border on Screenshots
layerrule = noanim, selection

### WINDOW RULES ###
# 1Password App Rule 
windowrule = noscreenshare, class:^(1Password)$

# Chromium App Rule
windowrule = tile, class:^(Chromium)$

# Float and center settings and previews
windowrule = float, class:^(blueberry.py|Bluetooth|Impala|Wiremix|com.interversehq.qView|org.gnome.NautilusPreviewer|1Password|xdg-desktop-portal-gtk|imv)$
windowrule = center, class:^(blueberry.py|Bluetooth|Impala|Wiremix|com.interversehq.qView|org.gnome.NautilusPreviewer|1Password|xdg-desktop-portal-gtk|imv)$
windowrule = size 800 600, class:^(blueberry.py|Impala|Wiremix|org.gnome.NautilusPreviewer|com.gabm.satty|xdg-desktop-portal-gtk)$
windowrule = size 1200 800, class:^(com.interversehq.qView|1Password|imv)

# Float and center file pickers
windowrule = tag +picker, class:(xdg-desktop-portal-gtk)
windowrule = float, tag:picker, title:^(Open.*Files?|Save.*Files?|All Files|Save)
windowrule = center, tag:picker, title:^(Open.*Files?|Save.*Files?|All Files|Save)
windowrule = size 800 600, tag:picker

# No transparency on media windows
windowrule = opacity 1 1, class:^(vlc|mpv|com.github.PintaProject.Pinta|imv|org.gnome.NautilusPreviewer)$

# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

### LAYOUT CONFIG ###
dwindle {
  pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = true # You probably want this
}

master {
  new_status = inherit
}

### MISCELLANEOUS CONFIG ###
misc {
  force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
  disable_hyprland_logo = true # If true disables the random hyprland logo / anime girl background. :(
  disable_splash_rendering = false 
  focus_on_activate = true
}

### INPUT ###
input {
  follow_mouse = 1

  sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
  resolve_binds_by_sym = 1

  touchpad {
    natural_scroll = true
    scroll_factor = 0.4
  }
}

device {
  name = at-translated-set-2-keyboard
  kb_layout = us
  kb_variant = colemak_dh
  kb_model = pc105
  kb_options =
}

### KEYBINDINGS ###
source = ~/.config/hypr/keybinds.conf
source = ~/.config/hypr/gestures.conf
